:original_name: swr_02_0075.html

.. _swr_02_0075:

Viewing the List of Shared Images
=================================

Function
--------

View the list of shared images.

URI
---

GET /v2/manage/shared-repositories

.. table:: **Table 1** Query parameters

   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
   +=================+=================+=================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
   | namespace       | No              | String          | Organization name. An organization name contains 1 to 64 characters. It must start with a lowercase letter and end with a lowercase letter or digit. Only lowercase letters, digits, periods (.), underscores (_), and hyphens (-) are allowed. Periods, underscores, and hyphens cannot be placed next to each other. A maximum of two consecutive underscores are allowed.                                                                                                                                                                                                                                                                                                                                                                                |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name            | No              | String          | Image repository name.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | center          | No              | String          | **self**: images shared by you **thirdparty**: images shared with you by others.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | limit           | No              | String          | Number of returned records. Ensure that the **offset** and **limit** parameters are used together. If this parameter is not specified, all records will be returned by default.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | offset          | No              | String          | Start index. The value can be **0** or a positive integer multiple of the **limit** value. If this parameter is not specified, all records will be returned by default.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   |                 |                 |                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
   |                 |                 |                 | Parameters **offset** and **limit** should always be used together.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | order_column    | No              | String          | Sorting by column. You can set this parameter to **updated_at** (sorting by update time). Parameters **order_column** and **order_type** should always be used together.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | order_type      | No              | String          | Sorting type. You can set this parameter to **desc** (descending sort) or **asc** (ascending sort). Parameters **order_column** and **order_type** should always be used together.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | filter          | No              | String          | Set this parameter to **center**::{*center*}\|\ **name**::{*name*}\|\ **limit**::{*limit*}\|\ **offset**::{*offset*}\|\ **namespace**::{*namespace*}\|\ **order_column**::{*order_column*}\|\ **order_type**::{*order_type*}. **center** can be set to **self** (images shared by you). **thirdparty** indicates images shared by others. **namespace** indicates the organization name. **name** indicates the image repository name. **limit** indicates the number of returned records. **offset** indicates the start index. **order_column** indicates sorting by column, which can be **name**, **updated_time**, or **tag_count**. **order_type** indicates the sorting type, which can be **desc** (descending order) or **asc** (ascending order). |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Request
-------

-  Request parameters

   N/A

-  Example request

   .. code-block:: text

      GET https://{Endpoint}/v2/manage/shared-repositories?center=self&name=busybox

Response
--------

-  Response parameters

   .. table:: **Table 2** Request header parameters

      +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------+
      | Parameter       | Mandatory       | Type            | Description                                                                                                                 |
      +=================+=================+=================+=============================================================================================================================+
      | Content-Type    | Yes             | String          | Message body type (format). The value can be **application/json** or **charset=utf-8 application/json**.                    |
      |                 |                 |                 |                                                                                                                             |
      |                 |                 |                 | The default value is **application/json**.                                                                                  |
      +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------+
      | X-Auth-Token    | Yes             | String          | User token.                                                                                                                 |
      |                 |                 |                 |                                                                                                                             |
      |                 |                 |                 | The token can be obtained by calling an IAM API. The value of **X-Subject-Token** in the response header is the user token. |
      +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------+

   .. table:: **Table 3** Response body parameter description

      +-------------------+------------------------------------------------------------+------------------------------------+
      | Parameter         | Type                                                       | Description                        |
      +===================+============================================================+====================================+
      | *[Array element]* | Array of :ref:`objects <swr_02_0075__table45446245174724>` | Viewing the list of shared images. |
      +-------------------+------------------------------------------------------------+------------------------------------+

   .. _swr_02_0075__table45446245174724:

   .. table:: **Table 4** *[Array element]* parameters description

      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter             | Type                  | Description                                                                                                                          |
      +=======================+=======================+======================================================================================================================================+
      | name                  | String                | Image repository name.                                                                                                               |
      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
      | category              | String                | Image repository type. The value can be **app_server**, **linux**, **framework_app**, **database**, **lang**, **arm**, or **other**. |
      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
      | description           | String                | Image repository description.                                                                                                        |
      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
      | size                  | Integer               | Total size of the images in an image repository.                                                                                     |
      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
      | is_public             | Boolean               | Whether the image is a public image. The value can be **true** or **false**.                                                         |
      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
      | num_images            | Integer               | Number of image tags in an image repository.                                                                                         |
      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
      | num_download          | Integer               | Download times.                                                                                                                      |
      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
      | created_at            | String                | Time when an image repository is created. It is the UTC standard time.                                                               |
      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
      | updated_at            | String                | Time when an image repository is updated. It is the UTC standard time.                                                               |
      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
      | logo                  | String                | (Reserved field) Image repository logo address.                                                                                      |
      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
      | url                   | String                | (Reserved field) URL of the image repository logo.                                                                                   |
      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
      | path                  | String                | External Docker pull address. The format is {*Repository address*}/{*Namespace name*}/{*Repository name*}.                           |
      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
      | internal_path         | String                | Internal Docker pull address. The format is {*Repository address*}/{*Namespace name*}/{*Repository name*}.                           |
      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
      | domain_name           | String                | Domain name.                                                                                                                         |
      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
      | namespace             | String                | Organization name.                                                                                                                   |
      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
      | tags                  | Array of strings      | Image tag list.                                                                                                                      |
      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
      | status                | Boolean               | -  Query the images shared by a third party: Check whether the sharing is expired.                                                   |
      |                       |                       | -  Query the images shared by me: The default value is **false**, indicating that no images are shared.                              |
      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
      | total_range           | Integer               | Total number of records.                                                                                                             |
      +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+

-  Example response

   .. code-block::

      [
          {
              "name": "busybox",
              "category": "other",
              "description": "",
              "size": 115645792,
              "is_public": false,
              "num_images": 1,
              "num_download": 0,
              "created_at": "2021-06-02T09:23:01.751202Z",
              "updated_at": "2021-06-10T07:24:35.204517Z",
              "logo": "",
              "url": "",
              "path": "{Repository address}/group/busybox",
              "internal_path": "{Repository address}/group/busybox",
              "domain_name": "domain",
              "namespace": "namespace",
              "tags": [
                  "v1",
                  "v2"
              ],
              "status": true,
              "total_range": 1
          }
      ]

Status Code
-----------

=========== ==============================================
Status Code Description
=========== ==============================================
200         Request successful.
400         Request error. Error information is returned.
401         Authentication failed.
500         Internal error. Error information is returned.
=========== ==============================================

Error Codes
-----------

For details, see :ref:`Error Codes <swr_02_0024>`.
