:original_name: swr_02_0034.html

.. _swr_02_0034:

Querying the Image Repository List
==================================

Function
--------

Query the image repository list.

URI
---

GET /v2/manage/repos?filter=center::self|namespace::{*namespace*}|name::{*name*}|category::{*category*}|offset::{*offset*}|limit::{*limit*}|order_column::{*order_column*}|order_type::{*order_type*}

For details about parameters, see :ref:`Table 1 <swr_02_0034__table11843162810214>`.

.. caution::

   At least one filter parameter must be transferred.

.. _swr_02_0034__table11843162810214:

.. table:: **Table 1** Parameter description

   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                                       |
   +=================+=================+=================+===================================================================================================================================================+
   | center          | No              | String          | The value can only be self, indicating that the image is a self-owned image.                                                                      |
   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
   | namespace       | No              | String          | Organization name.                                                                                                                                |
   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
   | name            | No              | String          | Image repository name.                                                                                                                            |
   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
   | category        | No              | String          | Image repository type. The value can be **app_server**, **linux**, **framework_app**, **database**, **lang**, **other**, **windows**, or **arm**. |
   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
   | offset          | No              | String          | Start index.                                                                                                                                      |
   |                 |                 |                 |                                                                                                                                                   |
   |                 |                 |                 | Ensure that the **offset** and **limit** parameters are used together.                                                                            |
   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
   | limit           | No              | String          | Number of returned records.                                                                                                                       |
   |                 |                 |                 |                                                                                                                                                   |
   |                 |                 |                 | Ensure that the **offset** and **limit** parameters are used together.                                                                            |
   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
   | order_column    | No              | String          | Sorting criteria. The value can be **name**, **updated_time**, or **tag_count**.                                                                  |
   |                 |                 |                 |                                                                                                                                                   |
   |                 |                 |                 | Ensure that the **order_column** and **order_type** parameters are used together.                                                                 |
   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
   | order_type      | No              | String          | Sorting type. You can set this parameter to **desc** (descending sort) and **asc** (ascending sort).                                              |
   |                 |                 |                 |                                                                                                                                                   |
   |                 |                 |                 | Ensure that the **order_column** and **order_type** parameters are used together.                                                                 |
   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------+

Request
-------

-  Request parameters

   N/A

-  Example request

   .. code-block:: text

      GET https://{Endpoint}/v2/manage/repos?filter=center::self|namespace::group|name::busybox

Response
--------

-  Response parameters

   .. table:: **Table 2** Response header parameter description

      +---------------+--------+----------------------------------------------------------------------------------------------------+
      | Parameter     | Type   | Description                                                                                        |
      +===============+========+====================================================================================================+
      | Content-Range | String | Offset (Start index)-Count (Number of records on the current page)/Total (Total number of records) |
      +---------------+--------+----------------------------------------------------------------------------------------------------+

   .. note::

      If the **offset** and **limit** parameters are transferred in the request, **Content-Range** will be added to the response header.

   .. table:: **Table 3** Response body parameter description

      +-------------------+------------------------------------------------------------+------------------------+
      | Parameter         | Type                                                       | Description            |
      +===================+============================================================+========================+
      | *[Array element]* | Array of :ref:`objects <swr_02_0034__table45446245174724>` | Image repository list. |
      +-------------------+------------------------------------------------------------+------------------------+

   .. _swr_02_0034__table45446245174724:

   .. table:: **Table 4** *[Array element]* parameters description

      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter     | Type             | Description                                                                                                                                       |
      +===============+==================+===================================================================================================================================================+
      | name          | String           | Image repository name.                                                                                                                            |
      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
      | category      | String           | Image repository type. The value can be **app_server**, **linux**, **framework_app**, **database**, **lang**, **other**, **windows**, or **arm**. |
      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
      | description   | String           | Image repository description.                                                                                                                     |
      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
      | size          | Integer          | Total size of the images in an image repository.                                                                                                  |
      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
      | is_public     | Boolean          | Whether the image is a public image. The value can be **true** or **false**.                                                                      |
      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
      | num_images    | Integer          | Number of image tags in an image repository.                                                                                                      |
      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
      | num_download  | Integer          | Download times.                                                                                                                                   |
      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
      | created_at    | String           | Time when an image repository is created. It is the UTC standard time.                                                                            |
      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
      | updated_at    | String           | Time when an image repository is updated. It is the UTC standard time.                                                                            |
      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
      | logo          | String           | (Reserved field) Image repository logo address.                                                                                                   |
      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
      | url           | String           | (Reserved field) URL of the image repository logo.                                                                                                |
      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
      | path          | String           | External Docker pull address. The format is {*Repository address*}/{*Namespace name*}/{*Repository name*}.                                        |
      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
      | internal_path | String           | Internal Docker pull address. The format is {*Repository address*}/{*Namespace name*}/{*Repository name*}.                                        |
      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
      | domain_name   | String           | Account name.                                                                                                                                     |
      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
      | namespace     | String           | Organization name.                                                                                                                                |
      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
      | tags          | Array of strings | Image tag list.                                                                                                                                   |
      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
      | status        | Boolean          | (Reserved field) Status.                                                                                                                          |
      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+
      | total_range   | Integer          | Total number of records.                                                                                                                          |
      +---------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+

-  Example response

   .. code-block::

      [
          {
              "name": "busybox",
              "category": "linux",
              "description": "this is a busybox repository",
              "size": 200977474,
              "is_public": false,
              "num_images": 2,
              "num_download": 0,
              "created_at": "2021-06-10T03:24:44.784402Z",
              "updated_at": "2021-06-10T03:40:59.199352Z",
              "logo": "",
              "url": "",
              "path": "{Repository address}/group/busybox",
              "internal_path": "{Repository address}/group/busybox",
              "domain_name": "root",
              "namespace": "group",
              "tags": [
                  "latest",
                  "log"
              ],
              "status": false,
              "total_range": 1
          }
      ]

Status Code
-----------

=========== ==============================================
Status Code Description
=========== ==============================================
200         Request successful.
400         Request error. Error information is returned.
401         Authentication failed.
500         Internal error. Error information is returned.
=========== ==============================================
