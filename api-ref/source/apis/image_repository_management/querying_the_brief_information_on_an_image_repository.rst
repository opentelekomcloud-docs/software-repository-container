:original_name: swr_02_0033.html

.. _swr_02_0033:

Querying the Brief Information on an Image Repository
=====================================================

Description
-----------

Query the brief information on an image repository.

Constraints
-----------

None

URI
---

GET /v2/manage/namespaces/{namespace}/repos/{repository}

.. table:: **Table 1** Path parameters

   +------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter  | Mandatory | Type   | Description                                                                                                                                                                                                                                                                                                                                                                                                                     |
   +============+===========+========+=================================================================================================================================================================================================================================================================================================================================================================================================================================+
   | namespace  | Yes       | String | Organization name. Enter 1 to 64 characters, starting with a lowercase letter and ending with a lowercase letter or digit. Only lowercase letters, digits, periods (.), underscores (_), and hyphens (-) are allowed. Periods, underscores, and hyphens cannot be placed next to each other. A maximum of two consecutive underscores are allowed.                                                                              |
   +------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | repository | Yes       | String | Image repository name. Enter 1 to 128 characters. It must start and end with a lowercase letter or digit. Only lowercase letters, digits, periods (.), slashes (/), underscores (_), and hyphens (-) are allowed. Periods, slashes, underscores, and hyphens cannot be placed next to each other. A maximum of two consecutive underscores are allowed. Replace a slash (/) with a dollar sign ($) before you send the request. |
   +------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 2** Request header parameters

   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                                           |
   +=================+=================+=================+=======================================================================================================================================================+
   | Content-Type    | Yes             | String          | Message body type (format). The value can be **application/json** or **charset=utf-8 application/json**.                                              |
   |                 |                 |                 |                                                                                                                                                       |
   |                 |                 |                 | Default value: **application/json**                                                                                                                   |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+
   | X-Auth-Token    | Yes             | String          | User token.                                                                                                                                           |
   |                 |                 |                 |                                                                                                                                                       |
   |                 |                 |                 | The token can be obtained through the IAM API used to obtain a user token. The value of **X-Subject-Token** in the response header is the user token. |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 3** Response body parameters

   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter     | Type    | Description                                                                                                                                                                    |
   +===============+=========+================================================================================================================================================================================+
   | id            | Long    | Repository ID.                                                                                                                                                                 |
   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ns_id         | Long    | Organization ID.                                                                                                                                                               |
   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name          | String  | Repository name.                                                                                                                                                               |
   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | category      | String  | Repository type.                                                                                                                                                               |
   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | description   | String  | Repository description.                                                                                                                                                        |
   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | creator_id    | String  | Repository creator ID.                                                                                                                                                         |
   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | creator_name  | String  | Repository creator.                                                                                                                                                            |
   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | size          | Long    | Repository size.                                                                                                                                                               |
   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | is_public     | Boolean | Whether the repository is public. When the value is **true**, it indicates the repository is public. When the value is **false**, it indicates the repository is private.      |
   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | num_images    | Long    | Number of images in a repository, ranging from 0 to 9,223,372,036,854,775,807.                                                                                                 |
   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | num_download  | Long    | The number of downloads.                                                                                                                                                       |
   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | url           | String  | URL of the repository logo (not in use).                                                                                                                                       |
   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | path          | String  | External image pull address, for example, swr.{region}.mycloud.com/namespace/repository.                                                                                       |
   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | internal_path | String  | Internal image pull address, for example, 10.125.0.198:20202/namespace/repository.                                                                                             |
   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | created       | String  | Time when a repository was created. It is the UTC standard time. Users need to calculate the offset based on the local time, for example, UTC+8:00 for the East 8th Time Zone. |
   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | updated       | String  | Time when a repository was updated. It is the UTC standard time. Users need to calculate the offset based on the local time, for example, UTC+8:00 for the East 8th Time Zone. |
   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | domain_id     | String  | Account ID.                                                                                                                                                                    |
   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | priority      | Integer | Image sorting priority.                                                                                                                                                        |
   +---------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Example Request
---------------

.. code-block:: text

   GET https://{endpoint}/v2/manage/namespaces/{namespace}/repos/{repository}

Example Response
----------------

**Status code: 200**

Request succeeded.

.. code-block::

   {
     "id" : 0,
     "ns_id" : 0,
     "name" : "busybox",
     "category" : "other",
     "description" : "containerops",
     "creator_id" : "1",
     "creator_name" : "admin",
     "size" : 2099575,
     "is_public" : false,
     "num_images" : 0,
     "num_download" : 0,
     "url" : "",
     "path" : "swr.***.mycloud.com/namespace/repository",
     "internal_path" : "10.125.0.198:20202/namespace/repository",
     "created" : "2017-08-17T12:00:03.915153267Z",
     "updated" : "2017-08-17T12:00:03.915153267Z",
     "domain_id" : "da44776c316c4a99b3683bb174f8821b",
     "priority" : 0
   }

Status Codes
------------

=========== ==================================
Status Code Description
=========== ==================================
200         Request succeeded.
400         Request error.
401         Authentication failed.
404         The image repository was not found
500         Internal error.
=========== ==================================

Error Codes
-----------

For details, see :ref:`Error Codes <errorcode>`.
