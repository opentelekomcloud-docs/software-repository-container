:original_name: swr_02_0073.html

.. _swr_02_0073:

Checking Whether an Account Exists for Receiving a Shared Image
===============================================================

Description
-----------

Check whether an account exists for receiving a shared image.

Constraints
-----------

None

URI
---

GET /v2/manage/namespaces/{namespace}/repositories/{repository}/access-domains/{access_domain}

.. table:: **Table 1** Path parameters

   +---------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter     | Mandatory | Type   | Description                                                                                                                                                                                                                                                                                                                                                                                                                     |
   +===============+===========+========+=================================================================================================================================================================================================================================================================================================================================================================================================================================+
   | namespace     | Yes       | String | Organization name. Enter 1 to 64 characters, starting with a lowercase letter and ending with a lowercase letter or digit. Only lowercase letters, digits, periods (.), underscores (_), and hyphens (-) are allowed. Periods, underscores, and hyphens cannot be placed next to each other. A maximum of two consecutive underscores are allowed.                                                                              |
   +---------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | repository    | Yes       | String | Image repository name. Enter 1 to 128 characters. It must start and end with a lowercase letter or digit. Only lowercase letters, digits, periods (.), slashes (/), underscores (_), and hyphens (-) are allowed. Periods, slashes, underscores, and hyphens cannot be placed next to each other. A maximum of two consecutive underscores are allowed. Replace a slash (/) with a dollar sign ($) before you send the request. |
   +---------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | access_domain | Yes       | String | Name of the account used for image sharing.                                                                                                                                                                                                                                                                                                                                                                                     |
   +---------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 2** Request header parameters

   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                                              |
   +=================+=================+=================+==========================================================================================================================================================+
   | Content-Type    | Yes             | String          | Message body type (format). The value can be **application/json** or **charset=utf-8 application/json**.                                                 |
   |                 |                 |                 |                                                                                                                                                          |
   |                 |                 |                 | Default value: **application/json**                                                                                                                      |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | X-Auth-Token    | Yes             | String          | User token.                                                                                                                                              |
   |                 |                 |                 |                                                                                                                                                          |
   |                 |                 |                 | The token can be obtained by calling the IAM API used to obtain a user token. The value of **X-Subject-Token** in the response header is the user token. |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 3** Response body parameters

   +---------------+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter     | Type    | Description                                                                                                                                                                                                                                                                                                                                                                                                                     |
   +===============+=========+=================================================================================================================================================================================================================================================================================================================================================================================================================================+
   | exist         | Boolean | **true**: The account exists. **false**: The account does not exist.                                                                                                                                                                                                                                                                                                                                                            |
   +---------------+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | namespace     | String  | Organization name.                                                                                                                                                                                                                                                                                                                                                                                                              |
   +---------------+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | repository    | String  | Image repository name. Enter 1 to 128 characters. It must start and end with a lowercase letter or digit. Only lowercase letters, digits, periods (.), slashes (/), underscores (_), and hyphens (-) are allowed. Periods, slashes, underscores, and hyphens cannot be placed next to each other. A maximum of two consecutive underscores are allowed. Replace a slash (/) with a dollar sign ($) before you send the request. |
   +---------------+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | access_domain | String  | Name of the account used for image sharing.                                                                                                                                                                                                                                                                                                                                                                                     |
   +---------------+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | permit        | String  | Permissions.                                                                                                                                                                                                                                                                                                                                                                                                                    |
   +---------------+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | deadline      | String  | Expiration time.                                                                                                                                                                                                                                                                                                                                                                                                                |
   +---------------+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | description   | String  | Description.                                                                                                                                                                                                                                                                                                                                                                                                                    |
   +---------------+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | creator_id    | String  | Creator ID.                                                                                                                                                                                                                                                                                                                                                                                                                     |
   +---------------+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | creator_name  | String  | Name of the creator.                                                                                                                                                                                                                                                                                                                                                                                                            |
   +---------------+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | created       | String  | Time when the image was created. It is the UTC standard time.                                                                                                                                                                                                                                                                                                                                                                   |
   +---------------+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | updated       | String  | Time when an image was updated. It is the UTC standard time.                                                                                                                                                                                                                                                                                                                                                                    |
   +---------------+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | status        | Boolean | Status. **true**: valid; **false**: expired.                                                                                                                                                                                                                                                                                                                                                                                    |
   +---------------+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Example Request
---------------

.. code-block:: text

   GET https://{endpoint}/v2/manage/namespaces/{namespace}/repositories/{repository}/access-domains/{access_domain}

Example Response
----------------

**Status code: 200**

Query succeeded.

.. code-block::

   {
     "exist" : true,
     "namespace" : "group",
     "repository" : "busybox",
     "access_domain" : "xxx",
     "permit" : "read",
     "deadline" : "2021-10-01T16:00:00Z",
     "description" : "description",
     "creator_id" : "0504186e6a8010e01f3ec009a7279baa",
     "creator_name" : "xxx",
     "created" : "2021-06-10T08:14:42.56632Z",
     "updated" : "2021-06-10T08:14:42.566325Z",
     "status" : true
   }

Status Codes
------------

=========== ======================
Status Code Description
=========== ======================
200         Query succeeded.
400         Request error.
401         Authentication failed.
500         Internal error.
=========== ======================

Error Codes
-----------

For details, see :ref:`Error Codes <errorcode>`.
